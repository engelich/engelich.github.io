(()=>{"use strict";window.addEventListener("DOMContentLoaded",(function(){var e;e=function(e){var t,n=navigator.userAgent,a=/iphone/i.test(n),o=/chrome/i.test(n),r=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,c){var i,s,l,u,f,d,m;if(!n&&this.length>0){var h=e(this[0]).data(e.mask.dataName);return h?h():void 0}return c=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},c),i=e.mask.definitions,s=[],l=d=n.length,u=null,e.each(n.split(""),(function(e,t){"?"==t?(d--,l=e):i[t]?(s.push(new RegExp(i[t])),null===u&&(u=s.length-1),l>e&&(f=s.length-1)):s.push(null)})),this.trigger("unmask").each((function(){function h(){if(c.completed){for(var e=u;f>=e;e++)if(s[e]&&S[e]===g(e))return;c.completed.call(_)}}function g(e){return c.placeholder.charAt(e<c.placeholder.length?e:0)}function p(e){for(;++e<d&&!s[e];);return e}function v(e,t){var n,a;if(!(0>e)){for(n=e,a=p(t);d>n;n++)if(s[n]){if(!(d>a&&s[n].test(S[a])))break;S[n]=S[a],S[a]=g(a),a=p(a)}k(),_.caret(Math.max(u,e))}}function y(){A(),_.val()!=x&&_.change()}function b(e,t){var n;for(n=e;t>n&&d>n;n++)s[n]&&(S[n]=g(n))}function k(){_.val(S.join(""))}function A(e){var t,n,a,o=_.val(),r=-1;for(t=0,a=0;d>t;t++)if(s[t]){for(S[t]=g(t);a++<o.length;)if(n=o.charAt(a-1),s[t].test(n)){S[t]=n,r=t;break}if(a>o.length){b(t+1,d);break}}else S[t]===o.charAt(a)&&a++,l>t&&(r=t);return e?k():l>r+1?c.autoclear||S.join("")===L?(_.val()&&_.val(""),b(0,d)):k():(k(),_.val(_.val().substring(0,r+1))),l?t:u}var _=e(this),S=e.map(n.split(""),(function(e,t){return"?"!=e?i[e]?g(t):e:void 0})),L=S.join(""),x=_.val();_.data(e.mask.dataName,(function(){return e.map(S,(function(e,t){return s[t]&&e!=g(t)?e:null})).join("")})),_.one("unmask",(function(){_.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;_.prop("readonly")||(clearTimeout(t),x=_.val(),e=A(),t=setTimeout((function(){_.get(0)===document.activeElement&&(k(),e==n.replace("?","").length?_.caret(0,e):_.caret(e))}),10))})).on("blur.mask",y).on("keydown.mask",(function(e){if(!_.prop("readonly")){var t,n,o,r=e.which||e.keyCode;m=_.val(),8===r||46===r||a&&127===r?(n=(t=_.caret()).begin,(o=t.end)-n==0&&(n=46!==r?function(e){for(;--e>=0&&!s[e];);return e}(n):o=p(n-1),o=46===r?p(o):o),b(n,o),v(n,o-1),e.preventDefault()):13===r?y.call(this,e):27===r&&(_.val(x),_.caret(0,A()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!_.prop("readonly")){var n,a,o,c=t.which||t.keyCode,i=_.caret();t.ctrlKey||t.altKey||t.metaKey||32>c||!c||13===c||(i.end-i.begin!=0&&(b(i.begin,i.end),v(i.begin,i.end-1)),n=p(i.begin-1),d>n&&(a=String.fromCharCode(c),s[n].test(a))&&(function(e){var t,n,a,o;for(t=e,n=g(e);d>t;t++)if(s[t]){if(a=p(t),o=S[t],S[t]=n,!(d>a&&s[a].test(o)))break;n=o}}(n),S[n]=a,k(),o=p(n),r?setTimeout((function(){e.proxy(e.fn.caret,_,o)()}),0):_.caret(o),i.begin<=f&&h()),t.preventDefault())}})).on("input.mask paste.mask",(function(){_.prop("readonly")||setTimeout((function(){var e=A(!0);_.caret(e),h()}),0)})),o&&r&&_.off("input.mask").on("input.mask",(function(){var e=_.val(),t=_.caret();if(m&&m.length&&m.length>e.length){for(A(!0);t.begin>0&&!s[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<u&&!s[t.begin];)t.begin++;_.caret(t.begin,t.begin)}else{for(A(!0);t.begin<d&&!s[t.begin];)t.begin++;_.caret(t.begin,t.begin)}h()})),A()}))}})},"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery),$(".art-stranger").mask("+7 (999) 999-99-99"),$.fn.setCursorPosition=function(e){if($(this).get(0).setSelectionRange)$(this).get(0).setSelectionRange(e,e);else if($(this).get(0).createTextRange){var t=$(this).get(0).createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}},$('input[type="tel"]').click((function(){$(this).setCursorPosition(4)})),document.querySelector(".contacts__content-form").addEventListener("submit",(function(e){e.preventDefault(),e.target.classList.contains("active")&&function(e){function t(e){const t=e.parentNode;t.classList.contains("err")&&(t.querySelector(".label-error").remove(),t.classList.remove("err"))}function n(e,t){const n=e.parentNode;let a=document.createElement("label");a.classList.add("label-error"),a.textContent=t,n.classList.add("err"),n.prepend(a)}let a=!0;return e.querySelectorAll("input,textarea").forEach((e=>{t(e),e.dataset.minLength&&(t(e),e.value.length<e.dataset.minLength&&(n(e,`Минимальное количество символов: ${e.dataset.minLength}`),a=!1)),"true"==e.dataset.required&&""==e.value&&(n(e,"Поле заполненно не верно"),a=!1)})),a}(this)&&function(e,t=3e3){const n=document.createElement("div");n.className="contacts__popup",n.style.display="flex",n.innerHTML=`<p>${e}</p>`,document.querySelector(".contacts").appendChild(n),setTimeout((()=>{n.classList.add("show")}),10),setTimeout((()=>{n.classList.remove("show"),setTimeout((()=>{document.body.removeChild(n)}),500)}),t)}("Сообщение успешно отправлено!",3e3)}))})),document.querySelector("#checkbox").addEventListener("change",(()=>{document.querySelector("#checkbox").checked?(document.querySelector(".contacts__content-form").classList.add("active"),document.querySelector(".contacts__content-form-btn").classList.add("active")):(document.querySelector(".contacts__content-form").classList.remove("active"),document.querySelector(".contacts__content-form-btn").classList.remove("active"))})),document.querySelectorAll(".contacts__content-form input, .contacts__content-form textarea").forEach((e=>{e.addEventListener("keydown",(function(e){if("Enter"===e.key){e.preventDefault();const t=function(e){const t=Array.from(document.querySelectorAll(".contacts__content-form input, .contacts__content-form textarea")),n=t.indexOf(e);return t[n+1]||null}(this);t&&t.focus()}}))})),gsap.timeline().fromTo(".contacts__content-form-error",{x:300,opacity:0},{x:0,opacity:1,duration:1,stagger:.2}).fromTo(".contacts__title",{y:-100,opacity:0},{y:0,opacity:1,duration:2}),function(){let e=new Image;e.onload=e.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();